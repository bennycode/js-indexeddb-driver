<!DOCTYPE html>
<html>
  <head>
    <title>Demo</title>
    <meta charset="UTF-8" />
    <script src="../src/main/js/ydn.db-i-crud.js"></script>
    <script src="../src/main/js/de/bennyn/storage/indexeddb/Driver.js"></script>
  </head>
  <body>
    <script>
      var driver = de.bennyn.storage.indexeddb.Driver;
      var configuration = {};

      /***
       * 
       * @param {de.bennyn.storage.indexeddb.Driver} driver
       * @returns {undefined}
       */
      var onSuccess = function (driver) {
        driver.deleteDatabase();
      };

      var onError = function (error) {
        alert('Error accessing IndexedDB storage');
      };

      var schema = {
        name: 'bennys-db-2',
        version: 1,
        objectStores: {
          brands: {
            keyPath: 'id',
            autoIncrement: true
          }
        }
      };

      driver.create(schema, onSuccess, onError);
    </script>
    <script>
      var schema = {
        stores: [{
            name: 'customer', // required. object store name or TABLE name
            keyPath: 'email', // keyPath.
            autoIncrement: true // if true, key will be automatically created
          }, {
            name: 'product',
            keyPath: 'id.sku',
            indexes: [{
                keyPath: 'origin', // required.
                name: 'name', // usually omitted. generally same as keyPath.
                unique: true, // unique constrain
                multiEntry: true   //
              }]
          }]
      };

      var options = {
        mechanisms: ['indexeddb']
      };

      var name = 'db-name';
      var db = new ydn.db.Storage(name, schema, options);
    </script>
  </body>
</html>
